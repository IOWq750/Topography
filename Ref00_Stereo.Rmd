# Работа со стереопарой снимков {#stereo}

## Краткая теоретическая информация {#stereo-theory}
[В начало справки ⇡](#stereo)

_Стереоэффект_ – пространственное восприятие объекта при рассматривании двух его плоских перспективных изображений.

_Стереопара_ – снимки, полученные из разных точек пространства на одну и ту же территорию, либо объект.

![Принципиальная схема стереоблюдений точек местности](images\Stereo\stereopair.png)

_Базис съёмки_ ($b$) – расстояние в масштабе снимков между точками съёмки (центрами их проекций).

_Продольный параллакс_ ($p$) – разность координат $x$ соответственных точек на двух снимках ($x_л - x_п$).

_Поперечный параллакс_ ($q$) – разность координат $y$ соответственных точек на двух снимках ($y_л - y_п$).

_Разность параллаксов_ ($\Delta p$) – разница в смещении координат соответственных точек, обусловленная разницей в их высоте ($p_2 - p_1$).

![Координаты соответственных точек на паре снимков](images\Stereo\parallax.png)

_Формула превышений_ – приблизительная формула для вычисления превышений точек по стереопарам снимков через разность параллаксов двух точек $\Delta p$.

$$h = H\frac{\Delta p }{b + \Delta p}$$

## Установка программного обеспечения {#stereo-soft}
[В начало справки ⇡](#stereo)

Для практической работы вам понадобится открытая учебная фотограмметрическая программа **E-foto**. Информацию о ней можно найти на домашнем сайте ([http://www.efoto.eng.uerj.br/](http://www.efoto.eng.uerj.br/){target="_blank"}), там же можно скачать себе дистрибутив программы. Для этого перейдите во вкладку **DOWNLOAD – Latest Version**.

![Страница для загрузки программы и данных](images\Stereo\Download.png)

Запустите скачанный пакет установщика и установите программу.

## Исходные данные {#stereo-initial}
[В начало справки ⇡](#stereo)

В работе будут использоваться данные аэрофотосъёмки на учебный полигон Сатино. Съёмка производилась с помощью камеры АФА-41/10.
Примерная высота съёмки – 1500 м;

Фокусное расстояние камеры – 96,78 мм;

Базис съёмки между снимками 10182 и 10183 составляет 71 мм, между снимками 10183 и 10184 – 69 мм, между 10184 и 10185 – 69 мм.

1) Скачайте данные проекта, доступные по [ссылке](https://yadi.sk/d/3a5RAakJsZoAYg){target="_blank"}.

Проект включает в себя собственно файл проекта с расширением *.epp и четыре аэрофотоснимка.

2) [Топографическая карта масштаба 1:10 000](https://yadi.sk/i/gX-dbnhTKGme_A){target="_blank"}

3) [Аэрофотоснимки с нанесённой сеткой](https://yadi.sk/d/dzFeiJ2zVdx_Hw){target="_blank"}

4) [Бланк задания](https://yadi.sk/i/wJ_0jiAc-nkO6A){target="_blank"}

## Цель работы {#stereo-task}
[В начало справки ⇡](#stereo)

Научиться выполнять измерения по стереопаре аэрофотоснимков с использованием формулы превышений и специального программного обеспечения. Построить гипсометрический профиль по данным измерений двумя способами и топографической карты.

## Работа в стереокомпараторе {#stereo-stereoplotter}
[В начало справки ⇡](#stereo)

Разместите папку с проектом у себя на компьютере так, чтобы путь к ней был без пробелов, кириллицы, дефисов и иных специальных символов. Запустите проект **Stereo.epp** с помощью программы **E-foto**.

Откроется окно менеджера проекта. Слева приведена структура проекта, а по центру - содержание.

![Окно менеджера проекта](images\stereo\Project_Manager.png)

В меню проекта выберите пункт **Execute – Stereo Plotter**. Откроется окно с анаглифными изображением стереопары снимков. Для эффективной работы с анаглифами рекомендуется использовать специальные очки, однако в данной программе измерения можно проводить и без них.

![Окно стереокомпаратора](images\stereo\Stereoplotter.png)

Если вы работаете в анаглифических очках и изображение на экране двоится, зажмите **SHIFT** и подвиньте изображение до тех пор, пока рассматриваемый участок не сольётся в объёмное изображение.

Для измерения высоты в точке нужно добавить точку с помощью кнопки ![](images\stereo\Add_Point.png), далее необходимо выбрать кнопку ![](images\stereo\Measure.png). С помощью колеса мыши можно посадить марку на измеряемый объект. На увеличенных фрагментах левого и правого изображения снизу будут показываться эти марки в «монокулярном» режиме. Как только мнимая марка слилась (реальные марки оказались на соответственных точках в маленьких окошках), нажмите левую кнопку мыши и в окне справа появятся измерения для данной точки. В случае, если вы замечаете поперечный параллакс (положение точек не совпадает по оси y), необходимо зажать **CTRL** и крутить колесо мыши до тех пор, пока поперечный параллакс не пропадёт. Обратите внимание, что для измерения каждой новой точки необходимо предварительно добавить её с помощью ![](images\stereo\Add_Point.png). После снятия измерений результаты будут показаны на панели справа в виде координат X, Y, Z.

----
_Карпачевский А.М., Каргашин П.Е._ **Топография с основами геодезии**. М.: Географический факультет МГУ, `r lubridate::year(Sys.Date())`.
----